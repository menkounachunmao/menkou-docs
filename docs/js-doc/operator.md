[[toc]]

# 操作符

## 一元操作符

`++` 和 `--`

- 字符串会转换为数字，非有效数字字符串转为 `NaN`
- 布尔值 `false` 转为 0 ，`true` 转为 1
- 对象先调用 `valueOf()` 然后计算，如果是`NaN`,再调用 `toString()` 计算

`+` 和 `-`

对数值类型无影响，其他类型按照规则转换为数字。

## 位操作符

计算二进制补码

1. 计算数值绝对值的二进制码
2. 求二进制的反码， 0->1,1->0
3. 反码 + 1

- 按位非 `~`

二进制取反，即操作数的负数减1。

- 按位与 `&`

将两个数每一位对齐，都为`1`则为`1`,否则为`0`。

- 按位或

将两个数每一位对齐，有一位为`1`则为`1`,否则为`0`。

- 按位异或`^`

只有一位为`1`时才为`1`,否则为`0`。

- 左移`<<`

向左移动，右边空出来的补`0`。

- 无符号右移 `>>` 有符号右移`>>>`

有符号位移，用符号位的值来补充空值。

## 布尔操作符

空字符串、数值`0`、`null`、`NaN`、`undefined`，都为false

- 逻辑非
- 逻辑与
- 逻辑或

`&&` 和 `||` 会返回两个操作数中的某一个。

## 乘性操作符

非数值会利用`Number()`转换为数值再参与计算

- 超出范围 `Infinity`
- 有一个操作数`NaN`则结果为`NaN`
- `Infinity`与`0`相乘 `NaN`，其他不变

## 加性操作符

### 加法
- 有一个操作数是`NaN` 则结果是 `NaN`
- `+-Infinity`相同结果不变，相异`NaN`
- 有一个操作数是字符串则转换另一个为字符串再拼接
  
### 减法

- 有一个操作数是`NaN` 则结果是 `NaN`
- `+-Infinity`相同`NaN`，相异结果不变
- 对象调用`valueOf()`
- 非数值调用`Number()`

## 关系操作符

- 字符串比较字符编码
- 一个是数值则将另一个转换为数值
- 布尔值转换为数值

## 相等操作符

- 布尔值转换为数值
- 如果一个操作数为数值，则另一个转数值
- null 和 undefined 相等，且不转换。
- 有NaN则返回 false
- 两个对象比较是否指向同一个